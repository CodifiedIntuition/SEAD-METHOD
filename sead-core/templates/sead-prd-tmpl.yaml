# SEAD Product Requirements Document Template
template:
  id: sead-prd-template-v1
  name: SEAD Product Requirements Document
  version: 1.0
  constitutional_framework: true
  catalog_integration: true
  output:
    format: markdown
    filename: docs/sead-prd.md
    title: "{{project_name}} SEAD Product Requirements Document (PRD)"

constitutional_requirements:
  mode_detection: required
  catalog_read: mandatory
  context_preservation: enforced
  governance_validation: continuous

workflow:
  mode: constitutional_interactive
  elicitation: sead-advanced-elicitation
  catalog_validation: enabled
  constraint_enforcement: progressive

sections:
  - id: constitutional-framework-context
    title: Constitutional Framework Context
    instruction: |
      Before proceeding with PRD development, establish constitutional framework:
      
      1. **Mode Detection**: Confirm current development mode (prototype/development/build-to-deploy)
      2. **Catalog Assessment**: Review applicable catalog domains and existing patterns
      3. **Constitutional Requirements**: Document governance constraints for this PRD
      4. **Context Preservation**: Ensure continuity from Constitutional Project Brief
      
      CRITICAL: Ask if Constitutional Project Brief exists. If NO, STRONGLY recommend creating sead-project-brief first as it provides essential foundation with catalog integration.
    constitutional_validation: mandatory
    sections:
      - id: constitutional-context
        title: Constitutional Context
        template: |
          **Development Mode:** {{development_mode}}
          **Catalog Domains Referenced:** {{catalog_domains}}
          **Constitutional Constraints:** {{governance_constraints}}
          **Project Brief Status:** {{project_brief_status}}
          
          **Catalog Integration Summary:**
          - **Available Patterns:** {{available_catalog_patterns}}
          - **Pattern Evolution Opportunities:** {{pattern_evolution_opportunities}}
          - **Compliance Requirements:** {{catalog_compliance_requirements}}

  - id: goals-context
    title: Constitutional Goals and Background Context
    instruction: |
      Establish constitutional goals with catalog awareness. If Constitutional Project Brief exists, review and extract catalog-compliant goals and context. Include constitutional change tracking.
    constitutional_validation: required
    sections:
      - id: constitutional-goals
        title: Constitutional Goals
        type: bullet-list
        instruction: |
          List desired outcomes with constitutional compliance and catalog integration:
          - User and project desires within governance framework
          - Goals supporting catalog pattern evolution
          - Constitutional compliance objectives
        template: "- {{goal}} (Catalog Domain: {{catalog_domain}}, Constitutional Principle: {{governance_principle}})"
      - id: constitutional-background
        title: Constitutional Background Context
        type: paragraphs
        instruction: |
          Provide 1-2 paragraphs with constitutional context:
          - Background considering existing catalog patterns
          - Problem solving approach within governance framework
          - Current landscape including catalog integration opportunities
      - id: constitutional-changelog
        title: Constitutional Change Log
        type: table
        columns: [Date, Version, Description, Constitutional Impact, Catalog Changes, Author]
        instruction: Track document versions with constitutional and catalog change impact

  - id: constitutional-requirements
    title: Constitutional Requirements
    instruction: |
      Draft requirements with constitutional compliance and catalog integration:
      - Functional requirements using catalog patterns where applicable
      - Non-functional requirements including governance constraints
      - Constitutional validation requirements
    elicit: true
    constitutional_validation: required
    sections:
      - id: constitutional-functional
        title: Constitutional Functional Requirements
        type: numbered-list
        prefix: CFR
        instruction: |
          Each requirement includes constitutional compliance and catalog integration:
          - CFR identifier with catalog domain reference
          - Constitutional validation requirements
          - Catalog pattern integration notes
        template: "CFR{{number}}: {{requirement}} (Catalog: {{catalog_pattern}}, Governance: {{constitutional_validation}})"
        examples:
          - "CFR6: The Todo List uses AI to detect duplicate items, integrating with validation-schemas catalog patterns and respecting privacy governance constraints."
      - id: constitutional-non-functional
        title: Constitutional Non-Functional Requirements
        type: numbered-list
        prefix: CNFR
        instruction: |
          Non-functional requirements with constitutional framework:
          - CNFR identifier with governance principles
          - Catalog compliance requirements
          - Constitutional constraint enforcement
        template: "CNFR{{number}}: {{requirement}} (Constitutional Constraint: {{governance_constraint}}, Catalog Support: {{catalog_support}})"
        examples:
          - "CNFR1: AWS usage must stay within free-tier limits while supporting deployment-strategy catalog patterns and constitutional cost governance."

  - id: constitutional-ui-goals
    title: Constitutional User Interface Design Goals
    condition: PRD has UX/UI requirements
    instruction: |
      Capture constitutional UI/UX vision with catalog integration:
      
      1. Pre-fill using design-system catalog patterns and constitutional constraints
      2. Present complete section with catalog pattern assumptions
      3. Identify constitutional compliance requirements
      4. Focus on product vision supporting governance framework
    elicit: true
    constitutional_validation: required
    choices:
      accessibility: [None, WCAG AA, WCAG AAA, Constitutional Accessibility]
      platforms: [Web Responsive, Mobile Only, Desktop Only, Cross-Platform, Catalog-Compliant]
    sections:
      - id: constitutional-ux-vision
        title: Constitutional UX Vision
        template: |
          {{ux_vision}}
          
          **Catalog Pattern Integration:** {{design_system_integration}}
          **Constitutional UX Principles:** {{governance_ux_requirements}}
      - id: constitutional-interaction-paradigms
        title: Constitutional Interaction Paradigms
        template: |
          {{interaction_paradigms}}
          
          **Catalog UI Patterns:** {{ui_catalog_patterns}}
          **Constitutional Interaction Constraints:** {{governance_interaction_requirements}}
      - id: constitutional-core-screens
        title: Constitutional Core Screens and Views
        instruction: |
          Critical screens with constitutional compliance and catalog integration:
          - Screens supporting catalog design-system patterns
          - Views enabling constitutional validation touchpoints
          - Constitutional user journeys and governance compliance paths
        template: "- **{{screen_name}}:** {{screen_purpose}} (Catalog Pattern: {{design_pattern}}, Constitutional Function: {{governance_function}})"
        examples:
          - "**Constitutional Login Screen:** Authentication using auth-patterns catalog with constitutional privacy compliance"
          - "**Catalog-Aware Dashboard:** Main interface leveraging design-system patterns with governance validation indicators"
      - id: constitutional-accessibility
        title: "Constitutional Accessibility: {{accessibility_level}}"
        template: |
          **Accessibility Requirements:** {{accessibility_requirements}}
          **Constitutional Compliance:** {{governance_accessibility_requirements}}
          **Catalog Pattern Support:** {{accessibility_catalog_integration}}
      - id: constitutional-branding
        title: Constitutional Branding
        instruction: |
          Branding requirements with constitutional and catalog integration:
          - Design-system catalog compliance
          - Constitutional branding governance
          - Brand evolution supporting catalog patterns
        template: |
          {{branding_requirements}}
          
          **Design System Catalog:** {{design_system_catalog_reference}}
          **Constitutional Brand Governance:** {{brand_governance_requirements}}
      - id: constitutional-target-platforms
        title: "Constitutional Target Platforms: {{platform_selection}}"
        template: |
          **Platform Strategy:** {{platform_strategy}}
          **Catalog Platform Support:** {{catalog_platform_integration}}
          **Constitutional Platform Constraints:** {{governance_platform_requirements}}

  - id: constitutional-technical-assumptions
    title: Constitutional Technical Assumptions
    instruction: |
      Gather technical decisions with constitutional and catalog integration:
      
      1. Check for sead-catalog/technical-preferences.yaml or constitutional technical constraints
      2. Prioritize catalog-compliant technologies and governance-approved choices
      3. Document constitutional rationale for all technical decisions
      4. Ensure choices support catalog pattern integration and evolution
      5. Include constitutional constraint validation for architect guidance
    elicit: true
    constitutional_validation: critical
    choices:
      repository: [Catalog-Compliant Monorepo, Constitutional Polyrepo, SEAD-Enhanced Multi-repo]
      architecture: [Constitutional Monolith, Catalog-Aware Microservices, Governance-Compliant Serverless]
      testing: [Constitutional Unit Only, Catalog-Integrated Testing, Full Constitutional Testing Pyramid]
    sections:
      - id: constitutional-repository-structure
        title: "Constitutional Repository Structure: {{repo_structure}}"
        template: |
          **Repository Strategy:** {{repo_strategy}}
          **Catalog Organization:** {{catalog_integration_structure}}
          **Constitutional Governance:** {{governance_repo_requirements}}
      - id: constitutional-service-architecture
        title: Constitutional Service Architecture
        instruction: |
          CRITICAL CONSTITUTIONAL DECISION - Document service architecture with:
          - Catalog domain boundary alignment
          - Constitutional governance service separation
          - Context preservation across service boundaries
        template: |
          **Architecture Style:** {{architecture_style}}
          **Catalog Domain Alignment:** {{catalog_domain_mapping}}
          **Constitutional Service Boundaries:** {{governance_service_constraints}}
          **Context Preservation Strategy:** {{context_preservation_architecture}}
      - id: constitutional-testing-requirements
        title: Constitutional Testing Requirements
        instruction: |
          CRITICAL CONSTITUTIONAL DECISION - Document testing with:
          - Constitutional compliance validation testing
          - Catalog pattern integration testing
          - Governance constraint verification testing
        template: |
          **Testing Strategy:** {{testing_strategy}}
          **Constitutional Validation Testing:** {{governance_testing_requirements}}
          **Catalog Integration Testing:** {{catalog_testing_strategy}}
          **Context Preservation Testing:** {{context_testing_approach}}
      - id: constitutional-additional-assumptions
        title: Constitutional Additional Technical Assumptions
        instruction: |
          Additional technical assumptions with constitutional and catalog context:
          - Assumptions supporting catalog integration
          - Constitutional constraint implications
          - Governance framework technical requirements
        template: "- {{assumption}} (Constitutional Impact: {{governance_impact}}, Catalog Integration: {{catalog_implications}})"

  - id: constitutional-epic-list
    title: Constitutional Epic List
    instruction: |
      Present constitutional epic structure with catalog integration:
      
      CRITICAL CONSTITUTIONAL SEQUENCING:
      - Each epic delivers constitutional compliance milestones
      - Epic 1 establishes constitutional foundation and catalog structure
      - Subsequent epics build catalog pattern integration
      - Each epic includes governance validation touchpoints
      - Context preservation maintained across all epic transitions
      
      Epics must support catalog evolution and constitutional compliance validation.
    elicit: true
    constitutional_validation: required
    template: "**Epic {{epic_number}}: {{epic_title}}** - {{epic_goal}} (Constitutional Milestone: {{governance_milestone}}, Catalog Evolution: {{catalog_development}})"
    examples:
      - "**Epic 1: Constitutional Foundation & Catalog Integration** - Establish project setup, authentication using auth-patterns catalog, and constitutional governance framework"
      - "**Epic 2: Catalog-Compliant Core Entities** - Create domain objects using shared-types catalog with constitutional validation"
      - "**Epic 3: Constitutional User Workflows** - Enable user journeys with design-system catalog patterns and governance compliance"

  - id: constitutional-epic-details
    title: Constitutional Epic {{epic_number}} {{epic_title}}
    repeatable: true
    instruction: |
      Present constitutional epic with catalog integration and governance compliance:
      
      CRITICAL CONSTITUTIONAL STORY SEQUENCING:
      - Stories deliver constitutional compliance increments
      - Each story integrates applicable catalog patterns
      - No story depends on future constitutional validation
      - Stories sized for constitutional AI agent execution
      - Context preservation maintained across story handoffs
      - Each story includes governance validation checkpoints
    elicit: true
    constitutional_validation: required
    template: |
      **Constitutional Epic Goal:** {{constitutional_epic_goal}}
      
      **Catalog Integration Summary:** {{catalog_integration_summary}}
      **Constitutional Milestones:** {{governance_milestones}}
    sections:
      - id: constitutional-story
        title: Constitutional Story {{epic_number}}.{{story_number}} {{story_title}}
        repeatable: true
        template: |
          As a {{user_type}},
          I want {{action}} (using {{catalog_pattern}} catalog pattern),
          so that {{benefit}} (while maintaining {{constitutional_compliance}}).
          
          **Constitutional Context:** {{governance_context}}
          **Catalog Integration:** {{catalog_integration_details}}
        sections:
          - id: constitutional-acceptance-criteria
            title: Constitutional Acceptance Criteria
            type: numbered-list
            item_template: "{{criterion_number}}: {{criteria}} (Constitutional Validation: {{governance_validation}}, Catalog Compliance: {{catalog_compliance}})"
            repeatable: true
            instruction: |
              Define constitutional acceptance criteria including:
              
              - Functional requirements with catalog pattern integration
              - Constitutional compliance validation checkpoints
              - Governance constraint satisfaction criteria
              - Catalog evolution contribution requirements
              - Context preservation for agent handoffs
              - Constitutional validation testing requirements

  - id: constitutional-checklist-results
    title: Constitutional Checklist Results Report
    instruction: |
      Execute constitutional PRD validation checklist covering:
      - Constitutional compliance completeness
      - Catalog integration validation
      - Governance framework adherence
      - Context preservation implementation
      
      Before running checklist, offer to output complete constitutional PRD for review.
    constitutional_validation: mandatory

  - id: constitutional-next-steps
    title: Constitutional Next Steps
    instruction: |
      Define next steps ensuring constitutional continuity and catalog integration:
      - Agent handoffs preserving constitutional context
      - Catalog integration validation requirements
      - Governance compliance checkpoints
    constitutional_validation: required
    sections:
      - id: constitutional-ux-expert-prompt
        title: Constitutional UX Expert Prompt
        instruction: |
          Create handoff prompt ensuring:
          - Design-system catalog integration requirements
          - Constitutional UX compliance validation
          - Context preservation from constitutional PRD
        content: |
          **Constitutional UX Expert Instructions:**
          
          Please review this Constitutional PRD and create the UX architecture using constitutional design principles:
          
          1. **Catalog Integration**: Use design-system catalog patterns and components
          2. **Constitutional Compliance**: Ensure UX supports governance validation touchpoints
          3. **Context Preservation**: Maintain constitutional context throughout UX design
          4. **Mode Awareness**: Respect {{development_mode}} constraints in UX decisions
          
          Focus on constitutional user experience that integrates catalog patterns and enables governance compliance validation throughout user journeys.
      - id: constitutional-architect-prompt
        title: Constitutional Architect Prompt
        instruction: |
          Create handoff prompt ensuring:
          - All catalog domain integration requirements
          - Constitutional architecture compliance
          - Technical context preservation
        content: |
          **Constitutional Architect Instructions:**
          
          Please review this Constitutional PRD and create the technical architecture using SEAD constitutional principles:
          
          1. **Catalog Integration**: Leverage api-contracts, shared-types, and all applicable catalog domains
          2. **Constitutional Architecture**: Design system supporting governance framework and constraint enforcement
          3. **Context Preservation**: Enable seamless agent handoffs with constitutional context maintenance
          4. **Mode Compliance**: Respect {{development_mode}} architectural constraints and validation requirements
          
          Create constitutional architecture that integrates catalog patterns, enables governance validation, and supports context preservation across the entire development workflow.