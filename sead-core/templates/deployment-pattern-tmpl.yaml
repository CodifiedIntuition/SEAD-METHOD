# SEAD Deployment & Infrastructure Pattern Documentation Template
template:
  id: deployment-pattern-template-v1
  name: SEAD Deployment & Infrastructure Pattern Documentation Template
  version: 1.0
  constitutional_framework: true
  catalog_integration: true
  pattern_domain: deployment_infrastructure
  output:
    format: markdown
    filename: "{{pattern_name}}-deployment-pattern.md"
    title: "{{pattern_name}} Deployment & Infrastructure Pattern Documentation"

constitutional_requirements:
  mode_detection: required
  catalog_read: mandatory
  context_preservation: enforced
  quality_validation: continuous
  anti_pattern_detection: enabled

workflow:
  mode: constitutional_interactive
  elicitation: guided_extraction
  catalog_validation: enabled
  constraint_enforcement: progressive

sections:
  - id: constitutional-initialization
    title: Constitutional Framework Initialization
    instruction: |
      Establish constitutional context for deployment & infrastructure pattern documentation:
      1. Identify development mode and deployment quality requirements
      2. Load constitutional framework for deployment governance
      3. Configure catalog integration validation requirements
      4. Establish context preservation for deployment pattern handoffs
      5. Set quality gates appropriate for deployment pattern tier
    sections:
      - id: pattern-context
        title: Deployment Pattern Context and Constitutional Framework
        template: |
          **Documentation Date:** {{documentation_date}}
          **Development Mode:** {{development_mode}}
          **Constitutional Framework:** {{constitutional_version}}
          **Pattern Agent:** sead-pattern-extraction
          **Deployment Quality Tier:** {{pattern_quality_tier}}
          **Catalog Domain:** Deployment & Infrastructure > {{deployment_subdomain}}
          **Constitutional Compliance:** {{constitutional_compliance_level}}

  - id: deployment-pattern-overview
    title: Deployment & Infrastructure Pattern Overview
    instruction: |
      Provide comprehensive deployment pattern overview focusing on infrastructure and operational concerns:
      1. Define deployment pattern purpose and infrastructure problem it solves
      2. Establish deployment scope, boundaries, and operational responsibilities
      3. Document when to use this deployment pattern and when NOT to use
      4. Identify target environments and deployment prerequisites
      5. Provide value proposition and operational benefits
    elicit: true
    constitutional_validation: required
    sections:
      - id: deployment-pattern-summary
        title: Deployment Pattern Summary
        template: |
          **Deployment Pattern Name:** {{pattern_name}}
          **Deployment Domain:** {{deployment_subdomain}}
          **Quality Tier:** {{quality_tier}}
          **Infrastructure Complexity Level:** {{complexity_level}}
          **Operational Scope:** {{operational_scope}}
          
          **Deployment Purpose:**
          {{deployment_purpose}}
          
          **Infrastructure Problem Solved:**
          {{infrastructure_problem_description}}
          
          **Key Deployment Benefits:**
          {{#each deployment_benefits}}
          - {{benefit_description}}
          {{/each}}

      - id: deployment-usage-guidance
        title: Deployment Usage Guidance
        template: |
          **When to Use This Deployment Pattern:**
          {{#each deployment_use_cases}}
          - {{use_case_description}}
          {{/each}}
          
          **When NOT to Use This Deployment Pattern:**
          {{#each deployment_anti_use_cases}}
          - {{anti_use_case_description}}
          {{/each}}
          
          **Deployment Prerequisites:**
          {{#each deployment_prerequisites}}
          - {{prerequisite_description}}
          {{/each}}
          
          **Target Environments and Scale:**
          - **Environment Types:** {{target_environment_types}}
          - **Scale Requirements:** {{scale_requirements}}
          - **Availability Requirements:** {{availability_requirements}}

  - id: infrastructure-architecture
    title: Infrastructure Architecture and Design
    instruction: |
      Document comprehensive infrastructure architecture and design patterns:
      1. Define infrastructure components and resource allocation
      2. Document network architecture and security boundaries
      3. Specify compute, storage, and database infrastructure
      4. Include load balancing and traffic distribution strategies
      5. Address scalability and capacity planning approaches
    elicit: true
    constitutional_validation: critical
    sections:
      - id: infrastructure-components
        title: Infrastructure Components and Resource Allocation
        template: |
          **Infrastructure Strategy:** {{infrastructure_strategy}}
          **Cloud Platform:** {{cloud_platform}}
          
          **Core Infrastructure Components:**
          {{#each infrastructure_components}}
          - **{{component_name}}:** {{component_description}}
            - **Resource Requirements:** {{resource_requirements}}
            - **Scaling Strategy:** {{scaling_strategy}}
            - **Dependencies:** {{component_dependencies}}
          {{/each}}
          
          **Resource Allocation:**
          ```{{iac_language}}
          {{resource_allocation_example}}
          ```

      - id: network-security-architecture
        title: Network Architecture and Security Boundaries
        template: |
          **Network Strategy:** {{network_strategy}}
          
          **Network Topology:**
          ```
          {{network_topology_diagram}}
          ```
          
          **Security Groups/Firewall Rules:**
          ```{{iac_language}}
          {{security_groups_example}}
          ```
          
          **VPC/Network Configuration:**
          ```{{iac_language}}
          {{vpc_network_config}}
          ```
          
          **DNS Configuration:**
          ```{{iac_language}}
          {{dns_configuration_example}}
          ```

      - id: compute-storage-database
        title: Compute, Storage, and Database Infrastructure
        template: |
          **Compute Strategy:** {{compute_strategy}}
          
          **Compute Instance Configuration:**
          ```{{iac_language}}
          {{compute_instance_config}}
          ```
          
          **Storage Configuration:**
          ```{{iac_language}}
          {{storage_configuration_example}}
          ```
          
          **Database Infrastructure:**
          ```{{iac_language}}
          {{database_infrastructure_config}}
          ```
          
          **Auto Scaling Configuration:**
          ```{{iac_language}}
          {{auto_scaling_config}}
          ```

      - id: load-balancing-traffic
        title: Load Balancing and Traffic Distribution
        template: |
          **Load Balancing Strategy:** {{load_balancing_strategy}}
          
          **Load Balancer Configuration:**
          ```{{iac_language}}
          {{load_balancer_config}}
          ```
          
          **Traffic Routing Rules:**
          ```{{iac_language}}
          {{traffic_routing_rules}}
          ```
          
          **Health Check Configuration:**
          ```{{iac_language}}
          {{health_check_config}}
          ```

  - id: deployment-automation
    title: Deployment Automation and CI/CD Pipeline
    instruction: |
      Document comprehensive deployment automation and CI/CD pipeline implementation:
      1. Define CI/CD pipeline architecture and workflow stages
      2. Document build automation and artifact management
      3. Specify deployment strategies and environment promotion
      4. Include automated testing and quality gates
      5. Address rollback procedures and deployment validation
    elicit: true
    constitutional_validation: critical
    sections:
      - id: cicd-pipeline-architecture
        title: CI/CD Pipeline Architecture and Workflow
        template: |
          **Pipeline Strategy:** {{pipeline_strategy}}
          **CI/CD Platform:** {{cicd_platform}}
          
          **Pipeline Architecture:**
          ```
          {{pipeline_architecture_diagram}}
          ```
          
          **Pipeline Configuration:**
          ```yaml
          {{pipeline_config_example}}
          ```
          
          **Workflow Stages:**
          {{#each workflow_stages}}
          - **{{stage_name}}:** {{stage_description}}
            - **Duration:** {{stage_duration}}
            - **Dependencies:** {{stage_dependencies}}
            - **Failure Strategy:** {{failure_strategy}}
          {{/each}}

      - id: build-artifact-management
        title: Build Automation and Artifact Management
        template: |
          **Build Strategy:** {{build_strategy}}
          
          **Build Configuration:**
          ```yaml
          {{build_config_example}}
          ```
          
          **Artifact Repository Setup:**
          ```{{config_language}}
          {{artifact_repository_config}}
          ```
          
          **Container Build Process:**
          ```dockerfile
          {{dockerfile_example}}
          ```
          
          **Artifact Versioning:**
          ```{{script_language}}
          {{artifact_versioning_example}}
          ```

      - id: deployment-strategies
        title: Deployment Strategies and Environment Promotion
        template: |
          **Deployment Strategy:** {{deployment_strategy_type}}
          
          **Blue-Green Deployment:**
          ```yaml
          {{blue_green_deployment_config}}
          ```
          
          **Canary Deployment:**
          ```yaml
          {{canary_deployment_config}}
          ```
          
          **Rolling Deployment:**
          ```yaml
          {{rolling_deployment_config}}
          ```
          
          **Environment Promotion Pipeline:**
          ```yaml
          {{environment_promotion_config}}
          ```

      - id: automated-testing-quality-gates
        title: Automated Testing and Quality Gates
        template: |
          **Testing Strategy:** {{automated_testing_strategy}}
          
          **Quality Gate Configuration:**
          ```yaml
          {{quality_gate_config}}
          ```
          
          **Automated Test Execution:**
          ```yaml
          {{automated_test_config}}
          ```
          
          **Security Scanning:**
          ```yaml
          {{security_scanning_config}}
          ```
          
          **Performance Testing:**
          ```yaml
          {{performance_testing_config}}
          ```

  - id: configuration-secrets-management
    title: Configuration and Secrets Management
    instruction: |
      Document comprehensive configuration and secrets management strategies:
      1. Define configuration management and environment-specific settings
      2. Document secrets management and encryption strategies
      3. Specify configuration deployment and version control
      4. Include environment variable and feature flag management
      5. Address configuration validation and compliance
    elicit: true
    constitutional_validation: required
    sections:
      - id: configuration-management
        title: Configuration Management and Environment Settings
        template: |
          **Configuration Strategy:** {{configuration_strategy}}
          
          **Configuration Structure:**
          ```yaml
          {{configuration_structure_example}}
          ```
          
          **Environment-Specific Configuration:**
          ```{{config_language}}
          {{environment_config_example}}
          ```
          
          **Configuration Deployment:**
          ```{{deployment_language}}
          {{config_deployment_example}}
          ```

      - id: secrets-encryption-management
        title: Secrets Management and Encryption
        template: |
          **Secrets Management Strategy:** {{secrets_strategy}}
          
          **Secrets Vault Configuration:**
          ```{{config_language}}
          {{secrets_vault_config}}
          ```
          
          **Secret Encryption:**
          ```{{script_language}}
          {{secret_encryption_example}}
          ```
          
          **Secret Rotation:**
          ```{{script_language}}
          {{secret_rotation_example}}
          ```
          
          **Application Secret Access:**
          ```{{programming_language}}
          {{secret_access_example}}
          ```

      - id: feature-flags-variables
        title: Feature Flags and Environment Variables
        template: |
          **Feature Flag Strategy:** {{feature_flag_strategy}}
          
          **Feature Flag Configuration:**
          ```{{config_language}}
          {{feature_flag_config}}
          ```
          
          **Environment Variable Management:**
          ```{{deployment_language}}
          {{env_var_management_example}}
          ```
          
          **Runtime Configuration:**
          ```{{programming_language}}
          {{runtime_config_example}}
          ```

  - id: monitoring-observability
    title: Monitoring, Logging, and Observability
    instruction: |
      Document comprehensive monitoring, logging, and observability strategies:
      1. Define application and infrastructure monitoring approaches
      2. Document log aggregation and structured logging
      3. Specify alerting and incident response procedures
      4. Include performance monitoring and APM integration
      5. Address distributed tracing and service mesh observability
    elicit: true
    constitutional_validation: required
    sections:
      - id: monitoring-infrastructure
        title: Application and Infrastructure Monitoring
        template: |
          **Monitoring Strategy:** {{monitoring_strategy}}
          
          **Infrastructure Monitoring Setup:**
          ```{{config_language}}
          {{infrastructure_monitoring_config}}
          ```
          
          **Application Monitoring:**
          ```{{config_language}}
          {{application_monitoring_config}}
          ```
          
          **Metrics Collection:**
          ```{{programming_language}}
          {{metrics_collection_example}}
          ```
          
          **Dashboard Configuration:**
          ```{{config_language}}
          {{dashboard_config}}
          ```

      - id: logging-aggregation
        title: Log Aggregation and Structured Logging
        template: |
          **Logging Strategy:** {{logging_strategy}}
          
          **Structured Logging Configuration:**
          ```{{config_language}}
          {{structured_logging_config}}
          ```
          
          **Log Aggregation Setup:**
          ```{{config_language}}
          {{log_aggregation_setup}}
          ```
          
          **Log Processing Pipeline:**
          ```{{config_language}}
          {{log_processing_pipeline}}
          ```

      - id: alerting-incident-response
        title: Alerting and Incident Response
        template: |
          **Alerting Strategy:** {{alerting_strategy}}
          
          **Alert Configuration:**
          ```{{config_language}}
          {{alert_configuration}}
          ```
          
          **Escalation Policy:**
          ```{{config_language}}
          {{escalation_policy}}
          ```
          
          **Incident Response Runbook:**
          {{#each incident_response_procedures}}
          {{step_number}}. **{{procedure_title}}:** {{procedure_description}}
          {{/each}}

      - id: performance-apm-tracing
        title: Performance Monitoring and Distributed Tracing
        template: |
          **Performance Strategy:** {{performance_strategy}}
          
          **APM Configuration:**
          ```{{config_language}}
          {{apm_configuration}}
          ```
          
          **Distributed Tracing Setup:**
          ```{{config_language}}
          {{distributed_tracing_setup}}
          ```
          
          **Performance Metrics:**
          {{#each performance_metrics}}
          - **{{metric_name}}:** {{metric_description}}
            - **Target:** {{metric_target}}
            - **Alert Threshold:** {{alert_threshold}}
          {{/each}}

  - id: security-compliance
    title: Security and Compliance
    instruction: |
      Document comprehensive security and compliance strategies:
      1. Define infrastructure security and hardening procedures
      2. Document access control and identity management
      3. Specify vulnerability management and security scanning
      4. Include compliance frameworks and audit requirements
      5. Address data protection and privacy considerations
    elicit: true
    constitutional_validation: required
    sections:
      - id: infrastructure-security-hardening
        title: Infrastructure Security and Hardening
        template: |
          **Security Strategy:** {{security_strategy}}
          
          **Security Hardening Configuration:**
          ```{{iac_language}}
          {{security_hardening_config}}
          ```
          
          **Network Security:**
          ```{{iac_language}}
          {{network_security_config}}
          ```
          
          **Endpoint Security:**
          ```{{config_language}}
          {{endpoint_security_config}}
          ```

      - id: access-control-identity
        title: Access Control and Identity Management
        template: |
          **Access Control Strategy:** {{access_control_strategy}}
          
          **IAM Configuration:**
          ```{{iac_language}}
          {{iam_configuration_example}}
          ```
          
          **Role-Based Access Control:**
          ```{{iac_language}}
          {{rbac_configuration}}
          ```
          
          **Service Account Management:**
          ```{{iac_language}}
          {{service_account_config}}
          ```

      - id: vulnerability-security-scanning
        title: Vulnerability Management and Security Scanning
        template: |
          **Vulnerability Management Strategy:** {{vulnerability_strategy}}
          
          **Security Scanning Pipeline:**
          ```yaml
          {{security_scanning_pipeline}}
          ```
          
          **Container Security Scanning:**
          ```yaml
          {{container_security_scanning}}
          ```
          
          **Infrastructure Security Assessment:**
          ```{{script_language}}
          {{infrastructure_security_assessment}}
          ```

      - id: compliance-audit-requirements
        title: Compliance Frameworks and Audit Requirements
        template: |
          **Compliance Strategy:** {{compliance_strategy}}
          
          **Compliance Framework Implementation:**
          {{#each compliance_frameworks}}
          - **{{framework_name}}:** {{implementation_status}}
            - **Requirements:** {{framework_requirements}}
            - **Controls:** {{implemented_controls}}
          {{/each}}
          
          **Audit Trail Configuration:**
          ```{{config_language}}
          {{audit_trail_config}}
          ```
          
          **Compliance Monitoring:**
          ```{{config_language}}
          {{compliance_monitoring_config}}
          ```

  - id: disaster-recovery-backup
    title: Disaster Recovery and Backup Strategies
    instruction: |
      Document comprehensive disaster recovery and backup strategies:
      1. Define backup strategies and data retention policies
      2. Document disaster recovery procedures and RTO/RPO targets
      3. Specify failover and business continuity planning
      4. Include disaster recovery testing and validation
      5. Address geographic distribution and multi-region deployment
    elicit: true
    constitutional_validation: required
    sections:
      - id: backup-retention-strategies
        title: Backup Strategies and Data Retention
        template: |
          **Backup Strategy:** {{backup_strategy}}
          
          **Backup Configuration:**
          ```{{iac_language}}
          {{backup_configuration}}
          ```
          
          **Data Retention Policy:**
          ```{{config_language}}
          {{data_retention_policy}}
          ```
          
          **Backup Validation:**
          ```{{script_language}}
          {{backup_validation_script}}
          ```

      - id: disaster-recovery-procedures
        title: Disaster Recovery Procedures and Targets
        template: |
          **DR Strategy:** {{disaster_recovery_strategy}}
          
          **Recovery Time Objective (RTO):** {{rto_target}}
          **Recovery Point Objective (RPO):** {{rpo_target}}
          
          **Disaster Recovery Plan:**
          {{#each dr_procedures}}
          {{step_number}}. **{{procedure_name}}:** {{procedure_description}}
             - **Estimated Time:** {{procedure_time}}
             - **Responsible Team:** {{responsible_team}}
          {{/each}}
          
          **DR Automation:**
          ```{{script_language}}
          {{dr_automation_script}}
          ```

      - id: failover-business-continuity
        title: Failover and Business Continuity Planning
        template: |
          **Business Continuity Strategy:** {{business_continuity_strategy}}
          
          **Failover Configuration:**
          ```{{iac_language}}
          {{failover_configuration}}
          ```
          
          **Service Continuity Plan:**
          {{#each continuity_procedures}}
          - **{{service_name}}:** {{continuity_approach}}
            - **Failover Time:** {{failover_time}}
            - **Data Consistency:** {{data_consistency_approach}}
          {{/each}}

      - id: dr-testing-validation
        title: DR Testing and Multi-Region Deployment
        template: |
          **DR Testing Strategy:** {{dr_testing_strategy}}
          
          **DR Test Schedule:**
          ```{{config_language}}
          {{dr_test_schedule}}
          ```
          
          **Multi-Region Deployment:**
          ```{{iac_language}}
          {{multi_region_deployment_config}}
          ```
          
          **Geographic Distribution:**
          ```{{iac_language}}
          {{geographic_distribution_config}}
          ```

  - id: constitutional-compliance
    title: Constitutional Framework Compliance
    instruction: |
      Document SEAD constitutional framework compliance for deployment patterns:
      1. Detail constitutional requirements for deployment design and governance
      2. Document mode-aware behavior for different development phases
      3. Provide context preservation capabilities for deployment pattern handoffs
      4. Address audit trail and governance requirements for deployment evolution
      5. Include compliance validation and monitoring for deployment patterns
    constitutional_validation: mandatory
    sections:
      - id: constitutional-integration
        title: Constitutional Framework Integration
        template: |
          **Framework Compliance:**
          - **Framework Version:** {{constitutional_framework_version}}
          - **Deployment Compliance Level:** {{deployment_compliance_level}}
          - **Integration Date:** {{integration_date}}
          - **Validation Status:** {{validation_status}}
          
          **Mode-Aware Deployment Behavior:**
          - **Prototype Mode:** {{prototype_mode_deployment_behavior}}
          - **Development Mode:** {{development_mode_deployment_behavior}}
          - **Build-to-Deploy Mode:** {{build_deploy_mode_deployment_behavior}}
          
          **Deployment Constraint Enforcement:**
          {{#each deployment_constraints}}
          - **{{constraint_name}}:** {{constraint_description}}
            - **Enforcement Level:** {{enforcement_level}}
            - **Validation:** {{validation_approach}}
          {{/each}}

      - id: deployment-context-preservation
        title: Context Preservation and Agent Handoffs
        template: |
          **Deployment Context Preservation:**
          - **Infrastructure State Serialization:** {{deployment_state_serialization_approach}}
          - **Context Metadata:** {{deployment_context_metadata_description}}
          - **Handoff Support:** {{deployment_handoff_support_level}}
          
          **Deployment Agent Handoff Requirements:**
          {{#each deployment_handoff_requirements}}
          - {{requirement_description}}
          {{/each}}
          
          **Deployment Context Validation:**
          ```{{validation_language}}
          {{deployment_context_validation_code}}
          ```

      - id: deployment-governance-integration
        title: Governance and Audit Integration
        template: |
          **Deployment Governance Framework:**
          - **Governance Level:** {{deployment_governance_level}}
          - **Approval Process:** {{deployment_approval_process}}
          - **Review Requirements:** {{deployment_review_requirements}}
          
          **Deployment Audit Trail:**
          - **Audit Events:** {{deployment_audit_events}}
          - **Log Format:** {{deployment_audit_log_format}}
          - **Retention Policy:** {{deployment_audit_retention_policy}}
          
          **Deployment Compliance Monitoring:**
          {{#each deployment_monitoring_mechanisms}}
          - **{{mechanism_name}}:** {{mechanism_description}}
          {{/each}}